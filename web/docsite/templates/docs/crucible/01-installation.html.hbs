<p>Add Crucible to your Lean 4 project by adding it as a dependency in your <code>lakefile.lean</code>.</p>

<h3>Adding the Dependency</h3>

<pre><code class="language-lean">require crucible from git "https://github.com/nathanial/crucible" @ "v0.1.0"</code></pre>

<p>Then run:</p>

<pre><code class="language-bash">lake update
lake build</code></pre>

<h3>Project Structure</h3>

<p>A typical project structure with Crucible tests:</p>

<pre><code>my-project/
├── lakefile.lean
├── lean-toolchain
├── MyProject/
│   └── ...
└── Tests/
    ├── Main.lean      # Test runner entry point
    └── MyTests.lean   # Your test suites</code></pre>

<h3>Test Runner Setup</h3>

<p>Create a test runner in <code>Tests/Main.lean</code>:</p>

<pre><code class="language-lean">import Crucible
import Tests.MyTests  -- Import your test modules

open Crucible

def main : IO UInt32 := do
  runAllSuites</code></pre>

<h3>Lakefile Configuration</h3>

<p>Add a test executable to your <code>lakefile.lean</code>:</p>

<pre><code class="language-lean">lean_lib Tests where
  globs := #[.andSubmodules `Tests]

@[test_driver]
lean_exe test where
  root := `Tests.Main</code></pre>

<p>The <code>@[test_driver]</code> attribute allows running tests with <code>lake test</code>.</p>

<h3>Running Tests</h3>

<p>Once configured, run your tests with:</p>

<pre><code class="language-bash">lake test</code></pre>

<p>Or build and run directly:</p>

<pre><code class="language-bash">lake build test
lake exe test</code></pre>
