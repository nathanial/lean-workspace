# Type-Safe Widget ID Generation

**Priority:** High
**Section:** Code Improvements
**Estimated Effort:** Large
**Dependencies:** None

## Description
Widget IDs are just `Nat` values generated by a `StateM` counter. There is no type-level guarantee that IDs are unique or that referenced IDs exist.

Proposed change: Consider using a phantom-typed ID system or indexed family to provide stronger guarantees:
```lean
structure WidgetId (tree : WidgetTree) where
  id : Nat
  valid : id < tree.size
```

## Rationale
Eliminates a class of runtime errors where invalid widget IDs are referenced.

## Affected Files
- `Arbor/Widget/Core.lean`
- `Arbor/Widget/DSL.lean`
- `Arbor/App/UI.lean`
