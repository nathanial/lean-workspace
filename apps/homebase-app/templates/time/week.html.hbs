<div class="time-container">
  <div class="time-week-header">
    <h1>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
        <line x1="16" y1="2" x2="16" y2="6"/>
        <line x1="8" y1="2" x2="8" y2="6"/>
        <line x1="3" y1="10" x2="21" y2="10"/>
      </svg>
      Weekly Summary
    </h1>
    <a href="/time" class="btn btn-secondary">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="19" y1="12" x2="5" y2="12"/>
        <polyline points="12 19 5 12 12 5"/>
      </svg>
      Back to Today
    </a>
  </div>

  <!-- Total time card -->
  <div class="time-week-total">
    <h2>Total Time</h2>
    <span class="time-week-total-value">{{totalDuration}}</span>
  </div>

  <!-- Category breakdown -->
  <div class="time-week-categories">
    <h3>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
        <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
        <line x1="12" y1="22.08" x2="12" y2="12"/>
      </svg>
      By Category
    </h3>
    {{#if hasCategorySummary}}
    <div class="time-summary-bar">
      {{#each categorySummary}}
      <div class="time-summary-segment {{categoryClass}}" style="flex-basis: {{percentage}}%"
           title="{{category}}: {{duration}}"></div>
      {{/each}}
    </div>
    <div class="time-category-list">
      {{#each categorySummary}}
      <div class="time-category-item">
        <span class="time-category {{categoryClass}}">{{category}}</span>
        <span class="time-category-duration">{{duration}}</span>
      </div>
      {{/each}}
    </div>
    {{/if}}
  </div>

  <!-- Day-by-day breakdown -->
  <div class="time-week-days">
    <h3>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <polyline points="12 6 12 12 16 14"/>
      </svg>
      By Day
    </h3>
    {{#each days}}
    {{#if hasTime}}
    <div class="time-day-row">
      <span class="time-day-label">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          <line x1="16" y1="2" x2="16" y2="6"/>
          <line x1="8" y1="2" x2="8" y2="6"/>
          <line x1="3" y1="10" x2="21" y2="10"/>
        </svg>
        {{label}}
      </span>
      <span class="time-day-duration">{{duration}}</span>
    </div>
    {{/if}}
    {{/each}}
  </div>
</div>
