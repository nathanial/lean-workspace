<div class="modal-overlay gallery-lightbox"
     onclick="if(event.target === this) this.parentElement.innerHTML = ''">
  <div class="gallery-lightbox-content">
    <!-- Close button -->
    <button class="gallery-lightbox-close"
            onclick="document.getElementById('modal-container').innerHTML = ''">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"/>
        <line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>

    <!-- Image/file preview -->
    {{#if isImage}}
    <div class="gallery-lightbox-image">
      <img src="{{url}}" alt="{{title}}">
    </div>
    {{else}}
    <div class="gallery-lightbox-file">
      <span class="gallery-file-icon-large">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14 2 14 8 20 8"/>
          <line x1="16" y1="13" x2="8" y2="13"/>
          <line x1="16" y1="17" x2="8" y2="17"/>
          <polyline points="10 9 9 9 8 9"/>
        </svg>
      </span>
      <p>{{fileName}}</p>
    </div>
    {{/if}}

    <!-- Info panel -->
    <div class="gallery-lightbox-info">
      <h3>{{displayTitle}}</h3>
      {{#if hasDescription}}
      <p class="gallery-lightbox-description">{{description}}</p>
      {{/if}}
      <div class="gallery-lightbox-meta">
        <p><strong>Size:</strong> {{formattedSize}}</p>
        <p><strong>Type:</strong> {{mimeType}}</p>
        <p><strong>Uploaded:</strong> {{relativeTime}}</p>
      </div>
      <!-- Actions -->
      <div class="gallery-lightbox-actions">
        <a href="{{url}}" download="{{fileName}}" class="btn btn-secondary">Download</a>
        <button hx-get="/gallery/item/{{id}}/edit" hx-target="#modal-container"
                hx-swap="innerHTML" class="btn btn-secondary">Edit</button>
        <button hx-delete="/gallery/item/{{id}}" hx-swap="none"
                hx-confirm="Delete this item?"
                class="btn btn-danger">Delete</button>
      </div>
    </div>
  </div>
</div>
