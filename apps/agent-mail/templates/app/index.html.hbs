<section class="hero">
  <div>
    <h1>Inbox telemetry in real time</h1>
    <p>Agent Mail keeps threads, acknowledgements, and urgent items visible without opening the CLI. Select a project to see its live message flow.</p>
  </div>
  <div class="hero-card">
    <div class="hero-stat" id="stat-projects">
      <span class="hero-label">Projects</span>
      <span class="hero-value">--</span>
    </div>
    <div class="hero-stat" id="stat-agents">
      <span class="hero-label">Agents</span>
      <span class="hero-value">--</span>
    </div>
    <div class="hero-stat" id="stat-threads">
      <span class="hero-label">Threads</span>
      <span class="hero-value">--</span>
    </div>
    <div class="hero-stat" id="stat-unread">
      <span class="hero-label">Unread</span>
      <span class="hero-value">--</span>
    </div>
  </div>
</section>

<div class="dashboard">
  <section class="panel panel-projects" aria-label="Projects">
    <div class="panel-header">
      <div>
        <h2>Projects</h2>
        <p class="panel-subtitle">Workspace scopes</p>
      </div>
      <button class="ghost" id="refresh-projects" type="button">Refresh</button>
    </div>
    <div class="panel-body" id="project-list">
      <div class="empty">Loading projects…</div>
    </div>
  </section>

  <section class="panel panel-agents" aria-label="Agents">
    <div class="panel-header">
      <div>
        <h2>Agents</h2>
        <p class="panel-subtitle">Who is talking in this project</p>
      </div>
      <button class="ghost" id="refresh-agents" type="button" disabled>Refresh</button>
    </div>
    <div class="panel-body" id="agent-list">
      <div class="empty">Select a project to load agents</div>
    </div>
  </section>

  <section class="panel panel-threads" aria-label="Threads">
    <div class="panel-header">
      <div>
        <h2>Threads</h2>
        <p class="panel-subtitle" id="thread-subtitle">Select a project to load mail</p>
      </div>
      <div class="panel-actions">
        <button class="ghost" id="refresh-threads" type="button" disabled>Refresh</button>
      </div>
    </div>
    <div class="panel-controls">
      <label class="search-field" for="thread-search">
        <span>Search</span>
        <input id="thread-search" type="search" placeholder="Subject, sender, or thread ID">
      </label>
      <div class="filter-chips" role="listbox" aria-label="Thread filters">
        <button class="filter-chip active" data-filter="all" type="button">All</button>
        <button class="filter-chip" data-filter="unread" type="button">Unread</button>
        <button class="filter-chip" data-filter="ack" type="button">Ack required</button>
        <button class="filter-chip" data-filter="urgent" type="button">Urgent</button>
      </div>
      <label class="select-field" for="agent-select">
        <span>Agent</span>
        <select id="agent-select">
          <option value="">All agents</option>
        </select>
      </label>
    </div>
    <div class="panel-body" id="thread-list">
      <div class="empty">No project selected</div>
    </div>
  </section>

  <section class="panel panel-mailbox" aria-label="Mailbox">
    <div class="panel-header">
      <div>
        <h2>Mailbox</h2>
        <p class="panel-subtitle" id="mailbox-subtitle">Select an agent to view mail</p>
      </div>
      <div class="tab-group" role="tablist" aria-label="Mailbox view">
        <button class="tab-button active" id="mailbox-inbox" data-mode="inbox" type="button">Inbox</button>
        <button class="tab-button" id="mailbox-outbox" data-mode="outbox" type="button">Outbox</button>
      </div>
    </div>
    <div class="panel-body" id="mailbox-list">
      <div class="empty">No agent selected</div>
    </div>
  </section>

  <section class="panel panel-thread-detail" aria-label="Detail">
    <div class="panel-header">
      <div>
        <h2>Detail</h2>
        <p class="panel-subtitle" id="thread-detail-subtitle">Pick a thread or mailbox message</p>
      </div>
      <div class="panel-actions">
        <span class="chip" id="thread-meta">—</span>
      </div>
    </div>
    <div class="panel-body" id="thread-detail">
      <div class="empty">No thread selected</div>
    </div>
  </section>
</div>

<div class="compose-overlay" id="compose-overlay" aria-hidden="true">
  <div class="compose-panel" role="dialog" aria-modal="true" aria-labelledby="compose-title">
    <div class="compose-header">
      <div>
        <h3 id="compose-title">New Message</h3>
        <p class="panel-subtitle">Send mail to an agent in the current project.</p>
      </div>
      <button class="ghost" id="close-compose" type="button">Close</button>
    </div>
    <form class="compose-form" id="compose-form">
      <label class="form-field">
        <span>From</span>
        <select id="compose-from" required></select>
      </label>
      <label class="form-field">
        <span>To</span>
        <select id="compose-to" required></select>
      </label>
      <label class="form-field">
        <span>Subject</span>
        <input id="compose-subject" type="text" placeholder="Subject line" required>
      </label>
      <label class="form-field">
        <span>Message</span>
        <textarea id="compose-body" rows="6" placeholder="Write the message body (Markdown supported)" required></textarea>
      </label>
      <div class="compose-row">
        <label class="form-field">
          <span>Importance</span>
          <select id="compose-importance">
            <option value="normal">Normal</option>
            <option value="low">Low</option>
            <option value="high">High</option>
            <option value="urgent">Urgent</option>
          </select>
        </label>
        <label class="form-field checkbox-field">
          <span>Ack required</span>
          <input id="compose-ack" type="checkbox">
        </label>
      </div>
      <div class="compose-status" id="compose-status"></div>
      <div class="compose-actions">
        <button class="ghost" id="cancel-compose" type="button">Cancel</button>
        <button class="primary" id="send-compose" type="submit">Send</button>
      </div>
    </form>
  </div>
</div>
